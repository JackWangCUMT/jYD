var jYD=(function(m){console.log("Welcom to use jYD.js. If you have any question, please contack to me. (wangmingemail@163.com )");var _ver=1.0;var _author="jackwangcumt";var _ele=null;var _hasOP=Object.prototype.hasOwnProperty;var _toString=Object.prototype.toString;var _cache={};var _events=[];var _is={types:["Array","Boolean","Date","Number","Object","RegExp","String","Window","HTMLDocument","Function","Null","Undefined","NodeList","HTMLCollection"]};m.is=[];for(var i=0,c;c=_is.types[i++];){m.is[c]=(function(type){return function(obj){return Object.prototype.toString.call(obj)=="[object "+type+"]"}})(c)};_log=function(msg){console.log(msg)}m.log=function(msg){console.log(msg)}m.isElement=function(object){return!!(object&&object.nodeType==1)};m.ele=function(){return _ele}m.extend=function(destination,source){for(var property in source)destination[property]=source[property];return destination}m.$=function(id,p){if(arguments.length==1){if(m.is.String(id)){if(id.charAt(0)=="#"&&id.indexOf(" ")==-1){id=id.substr(1);_ele=document.getElementById(id)}else{_ele=document.querySelectorAll(id);}}}else if(arguments.length==2){if(m.is.String(id)&&m.is.String(p)){_ele=document.querySelector(p).querySelectorAll(id)}else if(m.isElement(p)){_ele=p.querySelectorAll(id)}else{_ele=document.querySelectorAll(id)}}return this};m.eq=function(i){if(m.is.Number(i)){if(i<_ele.length){_ele=_ele[i]}}return this};function _on(obj,type,handle){try{obj.addEventListener(type,handle,false)}catch(e){try{obj.attachEvent('on'+type,handle)}catch(e){obj['on'+type]=handle}}var events=obj['the'+type];if(!events){events=obj['the'+type]=[];events.push(handle)}}function _off(obj,type){var events=obj['the'+type];if(events){for(var i in events){_removeEvents(obj,type,events[i])}}}m.on=function(type,handle){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){_on(_ele[i],type,handle)}}else if(m.isElement(_ele)){_on(_ele,type,handle)}else{console.log(_toString.call(_ele))}return this};m.off=function(type){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){_off(_ele[i],type)}}else if(m.isElement(_ele)){_off(_ele,type)}else{console.log(_toString.call(_ele))}return this};function _removeEvents(target,type,func){if(target.removeEventListener)target.removeEventListener(type,func,false);else if(target.detachEvent)target.detachEvent("on"+type,func);else target["on"+type]=null};function _hasClass(obj,cls){if(obj){if(obj.className){return obj.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'))}}return false}function _addClass(obj,cls){if(!_hasClass(obj,cls))obj.className+=" "+cls}function _removeClass(obj,cls){if(_hasClass(obj,cls)){var reg=new RegExp('(\\s|^)'+cls+'(\\s|$)');obj.className=obj.className.replace(reg,' ')}}function _toggleClass(obj,cls){if(_hasClass(obj,cls)){_removeClass(obj,cls)}else{_addClass(obj,cls)}}m.hasClass=function(cls){return _hasClass(_ele,cls)};m.addClass=function(cls){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_addClass(_ele[i],cls)}}else if(m.isElement(_ele)){_addClass(_ele,cls)}else{console.log(_toString.call(_ele))}return this};m.removeClass=function(cls){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i)){_removeClass(_ele[i],cls);}}}else if(m.isElement(_ele)){_removeClass(_ele,cls)}else{console.log(_toString.call(_ele))}return this};m.toggleClass=function(cls){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_toggleClass(_ele[i],cls)}}else if(m.isElement(_ele)){_toggleClass(_ele,cls)}else{console.log(_toString.call(_ele))}return this};m.has=function(key,array){for(var i in array){if(key==array[i]){return true}}return false};var _form={getRadioV:function(e){var value=null;if(e.value!=undefined&&e.value!=''){value=e.value}else{for(var i=0,len=e.length;i<len;i++){if(e[i].checked){value=e[i].value;break}}}return value},getCheckboxV:function(e){var arr=new Array();if(e.length>1){for(var i=0,len=e.length;i<len;i++){if(e[i].checked){arr.push(e[i].value)}}return arr}else{if(e.checked){return"1"}else{return"0"}}},getSelectV:function(e){if(e.selectedIndex==-1){return null};if(e.multiple){var arr=new Array(),options=e.options;for(var i=0,len=options.length;i<len;i++){if(options[i].selected){arr.push(options[i].value)}}return arr}else{return e.options[e.selectedIndex].value}},serialize:function(form){var arr=new Array(),cache=[],e=form.elements;if(e){for(var i=0,len=e.length;i<len;i++){field=e[i];switch(field.type){case"select-one":case"select-multiple":if(field.name){if(!m.has(field.name,cache)){arr.push(encodeURIComponent(field.name)+"="+encodeURIComponent(this.getSelectV(field)))}cache.push(field.name)}break;case undefined:case"button":case"submit":case"reset":case"file":break;case"checkbox":if(field.name){if(!m.has(field.name,cache)){arr.push(encodeURIComponent(field.name)+"="+encodeURIComponent(this.getCheckboxV(form.elements[field.name])))}cache.push(field.name)}break;case"radio":if(!field.checked){break}default:if(field.name.length>0){arr.push(encodeURIComponent(field.name)+"="+encodeURIComponent(field.value))}}}cache=[];return arr.join("&")}},reset:function(form){var arr=new Array(),e=form.elements;if(e){for(var i=0,len=e.length;i<len;i++){field=e[i];switch(field.type){case"select-one":case"select-multiple":field.selectedIndex=0;break;case undefined:case"button":case"submit":case"reset":case"file":break;case"checkbox":field.checked=false;break;case"radio":field.checked=false;default:field.value=""}}}}};m.serialize=function(){if(_ele.tagName=="FORM"){return _form.serialize(_ele)}}function _checkAll(name,val){var ctl=m.$("[name="+name+"]").ele();for(var i=0;i<ctl.length;i++){ctl[i].checked=val}}m.reset=function(){if(_ele.tagName=="FORM"){_form.reset(_ele)}}m.bindJson=function(json){if(_ele.tagName=="FORM"){var key=[],ctl=null,tag="",type="",val="";for(key in json){if(_hasOP.call(json,key)){ctl=m.$("[name="+key+"]").ele()[0];val=json[key];if(m.isElement(ctl)){type=ctl.type;tag=ctl.tagName.toLowerCase();if(type=='text'||type=='date'||type=='datetime'||type=='time'||type=='password'||tag=='textarea'||type=='hidden'){ctl.value=val}else if(type=='checkbox'){if(m.$("[name="+key+"]").ele().length>1){_checkAll(key,false);if(m.is.Array(val)){for(var i=0;i<val.length;i++){ctl=m.$("[name="+key+"][value="+val[i]+"]").ele()[0];ctl.checked=true}}else{ctl=m.$("[name="+key+"][value="+val[i]+"]").ele()[0];ctl.checked=true}}else{ctl.checked=val}}else if(type=='radio'){ctl=m.$("[name="+key+"][value="+val+"]").ele()[0];ctl.checked=val}else{ctl.value=val}}}}}}m.child=function(){_ele=_ele.childNodes;return this};m.first=function(){for(var i=0,e;e=_ele[i++];){if(e.nodeType==1)_ele=e}return this};m.last=function(){var len=_ele.length;for(var i=len-1,e;e=_ele[i--];){if(e.nodeType==1)_ele=e}return this};m.next=function(){var tempLast=_ele.parentNode.lastChild;if(_ele==tempLast)return null;var tempObj=_ele.nextSibling;if(tempObj){while(tempObj.nodeType!=1&&tempObj.nextSibling!=null){tempObj=tempObj.nextSibling}_ele=(tempObj.nodeType==1)?tempObj:null}return this};m.prev=function(){var tempLast=_ele.parentNode.firstChild;if(_ele==tempLast)return null;var tempObj=_ele.previousSbiling;if(tempObj){while(tempObj.nodeType!=1&&tempObj.previousSbiling!=null){tempObj=tempObj.previousSbiling}_ele=(tempObj.nodeType==1)?tempObj:null}return this};m.parent=function(){var tempObj=_ele.parentNode;if(tempObj){while(tempObj.nodeType!=1&&tempObj.previousSbiling!=null){tempObj=tempObj.parentNode}_ele=(tempObj.nodeType==1)?tempObj:null}return this};m.append=function(str){_ele.innerHTML+=str;return this};m.Insert=function(str){_ele.innerHTML=str+_ele.innerHTML;return this};m.html=function(html){if(arguments.length==1){if(m.isElement(_ele)){_ele.innerHTML=html;return this}}else if(arguments.length==0){if(m.isElement(_ele)){return _ele.innerHTML}}else{}};m.text=function(txt){if(arguments.length==1){if(m.isElement(_ele)){if(_ele.tagName.toUpperCase()=="SELECT"){if(_ele.type=="select-one"){for(var i in _ele.options){if(_ele.options[i].text==txt){_ele.selectedIndex=i}}}else{}}else{_ele.innerText=txt}}}else if(arguments.length==0){if(m.isElement(_ele)){if(_ele.tagName.toUpperCase()=="SELECT"){return _ele.options[_ele.selectedIndex].text}else{return _ele.innerText}}}else{}};m.val=function(val){if(arguments.length==1){if(m.isElement(_ele)){if(_ele.tagName.toUpperCase()=="SELECT"){if(_ele.type=="select-one"){for(var i in _ele.options){if(_ele.options[i].value==val){_ele.selectedIndex=i}}}else{}}else{if(_ele.type=="checkbox"){return _ele.checked=val}else if(_ele.type=="radio"){return _ele.checked=val}else{_ele.value=val}}}if(m.is.NodeList(_ele)){for(var i in _ele){if(_ele[i].value==val){_ele[i].checked=true}}}}else if(arguments.length==0){if(m.is.NodeList(_ele)){_ele=_ele[0]}if(m.isElement(_ele)){if(_ele.tagName.toUpperCase()=="SELECT"){return _ele.options[_ele.selectedIndex].value}else{if(_ele.type=="checkbox"){return _ele.checked}else{return _ele.value}}}}else{return""}};m.attr=function(attr,val){if(arguments.length==2){if(m.isElement(_ele)){_ele.setAttribute(attr,val)}}else if(arguments.length==1){if(m.isElement(_ele)){return _ele.getAttribute(attr)}}else{}};m.data=function(attr,val){if(arguments.length==2){if(m.isElement(_ele)){_ele.setAttribute("data-"+attr,val)}}else if(arguments.length==1){if(m.isElement(_ele)){return _ele.getAttribute("data-"+attr)}}else{}};function _elecall(func){if(m.is.Function(func)){if(_ele==null){return false}if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))func(_ele[i])}}else if(m.isElement(_ele)){func(_ele)}else{console.log(_toString.call(_ele))}}};m.ready=function(callback){if(document.addEventListener){document.addEventListener('DOMContentLoaded',function(){document.removeEventListener('DOMContentLoaded',arguments.callee,false);callback()},false)}else if(document.attachEvent){document.attachEvent('onreadystatechange',function(){if(document.readyState=="complete"){document.detachEvent("onreadystatechange",arguments.callee);callback()}})}else if(document.lastChild==document.body){callback()}};m.css=function(css){if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_css(_ele[i],css)}}else if(m.isElement(_ele)){_css(_ele,css)}else{console.log(_toString.call(_ele))}return this};m.cssText=function(){if(m.isElement(_ele)){return _ele.style.cssText}else{console.log(_toString.call(_ele))}};function _css(obj,css){if(m.is.Object(css)){for(var i in css){obj.style[i]=css[i]}}else{}}m.enable=function(){if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_enable(_ele[i])}}else if(m.isElement(_ele)){_enable(_ele)}else{console.log(_toString.call(_ele))}return this};m.formdisabled=function(){m.$("input",_ele).disabled();m.$("select",_ele).disabled();m.$("button",_ele).disabled()}m.formenable=function(){m.$("input",_ele).enable();m.$("select",_ele).enable();m.$("button",_ele).enable()}m.disabled=function(){if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_disabled(_ele[i])}}else if(m.isElement(_ele)){_disabled(_ele)}else{console.log(_toString.call(_ele))}return this};function _disabled(obj){obj.setAttribute("disabled","disabled")}function _enable(obj){obj.removeAttribute("disabled")}m.hide=function(){if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_hide(_ele[i])}}else if(m.isElement(_ele)){_hide(_ele)}else{console.log(_toString.call(_ele))}return this};m.show=function(){if(m.is.NodeList(_ele)){for(var i in _ele){if(_hasOP.call(_ele,i))_show(_ele[i])}}else if(m.isElement(_ele)){_show(_ele)}else{console.log(_toString.call(_ele))}return this};function _hide(obj){obj.style.display="none"}function _show(obj){obj.style.display=""}m.ajax={get:function(url,fn,funerror){var obj=new XMLHttpRequest();obj.open('GET',url,true);obj.onreadystatechange=function(){if(obj.readyState==4||obj.status==200){fn.call(this,obj.responseText)}else{if(funerror){funerror.call(this,obj.responseText)}}};obj.send()},post:function(url,data,fn,funerror){var obj=new XMLHttpRequest();obj.open("POST",url,true);obj.setRequestHeader("Content-type","application/x-www-form-urlencoded");obj.onreadystatechange=function(){if(obj.readyState==4||obj.status==200){fn.call(this,obj.responseText)}else{if(funerror){funerror.call(this,obj.responseText)}}};obj.send(data)}}var _ajax={};m.post=function(url){_ajax.url=url;_ajax.method="post";return this};m.get=function(url){_ajax.url=url;_ajax.method="get";return this};m.params=function(data){_ajax.data=data;return this};m.success=function(func){_ajax.success=func;return this};m.error=function(func){_ajax.error=func;return this};m.send=function(){if(_ajax.method=="post"){m.ajax.post(_ajax.url,_ajax.data,_ajax.success,_ajax.error)}else if(_ajax.method=="get"){m.ajax.get(_ajax.url,_ajax.success,_ajax.error)}else{}};var NativeCustomEvent=window.CustomEvent;function useNative(){try{var p=new NativeCustomEvent('ce',{detail:{msg:'testce'}});return'ce'===p.type&&'testce'===p.detail.msg}catch(e){}return false}m.CustomEvent=useNative()?NativeCustomEvent:'undefined'!==typeof document&&'function'===typeof document.createEvent?function CustomEvent(type,params){var e=document.createEvent('CustomEvent');if(params){e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail)}else{e.initCustomEvent(type,false,false,void 0)}return e}:function CustomEvent(type,params){var e=document.createEventObject();e.type=type;if(params){e.bubbles=Boolean(params.bubbles);e.cancelable=Boolean(params.cancelable);e.detail=params.detail}else{e.bubbles=false;e.cancelable=false;e.detail=void 0}return e};m.createCE=function(objSender,ceName,eventArgs,objTarget,objTEvent){var event=new CustomEvent(ceName,eventArgs);_on(objTarget,objTEvent,function(e){event.customEvent=ceName;objSender.dispatchEvent(event)})};return m}(jYD||{}));